<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0030)https://pixhawk.org/dev/mixing -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Control Mixing - Pixhawk Flight Controller Hardware Project</title>
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><![endif]-->
<meta name="generator" content="DokuWiki">
<meta name="robots" content="index,follow">
<meta name="keywords" content="dev,mixing">
<link rel="search" type="application/opensearchdescription+xml" href="https://pixhawk.org/lib/exe/opensearch.php" title="Pixhawk Flight Controller Hardware Project">
<link rel="start" href="https://pixhawk.org/">
<link rel="contents" href="https://pixhawk.org/dev/mixing?do=index" title="Sitemap">
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="https://pixhawk.org/feed.php">
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="https://pixhawk.org/feed.php?mode=list&amp;ns=dev">
<link rel="alternate" type="text/html" title="Plain HTML" href="https://pixhawk.org/_export/xhtml/dev/mixing">
<link rel="alternate" type="text/plain" title="Wiki Markup" href="https://pixhawk.org/_export/raw/dev/mixing">
<link rel="canonical" href="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/Control Mixing - Pixhawk Flight Controller Hardware Project.html">
<link rel="stylesheet" type="text/css" href="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/css.php">
<script async="" src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/analytics.js"></script><script type="text/javascript">/*<![CDATA[*/var NS='dev';var JSINFO = {"id":"dev:mixing","namespace":"dev","toc":{"initial_state":1}};
/*!]]>*/</script><style type="text/css"></style>
<script type="text/javascript" charset="utf-8" src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/js.php"></script>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="shortcut icon" href="https://pixhawk.org/lib/tpl/mnml-blog/user/favicon.ico">
<link rel="apple-touch-icon" href="https://pixhawk.org/lib/tpl/mnml-blog/images/apple-touch-icon.png">
<script type="text/javascript" charset="utf-8" src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/user.js"></script>
<!--[if lte IE 8]><link rel="stylesheet" media="all" type="text/css" href="/lib/tpl/mnml-blog/css/mnml-blog_screen_iehacks.css" /><![endif]-->
<!--[if lt IE 7]><style type="text/css">img { behavior: url(/lib/tpl/mnml-blog/js/iepngfix/iepngfix.htc); }</style><![endif]-->
<link href="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/css" rel="stylesheet" type="text/css">
<!-- GA script -->
</head>

<body>
<div id="pagewrap">

    <!-- start header -->
    <div id="tmpl_header">
        <a href="https://pixhawk.org/" name="dokuwiki__top" id="dokuwiki__top" accesskey="h"><img src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/rotate.php" id="tmpl_header_logo_img" alt=""></a>

       <div id="tmpl_header_nav"><nav>
<ul>
<li class="level1"><div class="li"> <a href="https://pixhawk.org/start" class="wikilink1" title="start">Overview</a></div>
<ul>
<li class="level2"><div class="li"> <a href="http://px4.io/about-us/videos/" class="urlextern" target="_blank" title="http://px4.io/about-us/videos/" rel="nofollow">Videos</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/pageindex" class="wikilink1" title="pageindex">Index</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="https://pixhawk.org/modules/start" class="wikilink1" title="modules:start">Hardware</a></div>
<ul>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/modules/pixracer" class="wikilink1" title="modules:pixracer">Pixracer Autopilot</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/modules/pixhawk" class="wikilink1" title="modules:pixhawk">Pixhawk Autopilot</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/modules/linux/start" class="wikilink1" title="modules:linux:start">Linux Autopilots</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/modules/px4ioar" class="wikilink1" title="modules:px4ioar">AR.Drone Shield</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/modules/px4io" class="wikilink1" title="modules:px4io">PX4IO module</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/modules/px4flow" class="wikilink1" title="modules:px4flow">Opt.Flow Sensor</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/peripherals/onboard_computers/start" class="wikilink1" title="peripherals:onboard_computers:start">Onboard Computers</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/modules/can_nodes/start" class="wikilink1" title="modules:can_nodes:start">UAVCAN Modules</a></div>
<ul>
<li class="level3"><div class="li"> <a href="https://pixhawk.org/modules/pixhawk_esc" class="wikilink1" title="modules:pixhawk_esc">Pixhawk ESC</a></div>
</li>
<li class="level3"><div class="li"> <a href="https://pixhawk.org/modules/can_nodes/lpc11c24_xpresso" class="wikilink1" title="modules:can_nodes:lpc11c24_xpresso">LPC11C24 Dev Board</a></div>
</li>
<li class="level3"><div class="li"> <a href="https://pixhawk.org/modules/olimexino_stm32" class="wikilink1" title="modules:olimexino_stm32">Olimexino STM32 Dev Board</a></div>
</li>
</ul>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/peripherals/start" class="wikilink1" title="peripherals:start">Peripherals</a></div>
<ul>
<li class="level3"><div class="li"> <a href="https://pixhawk.org/peripherals/radio-control/start" class="wikilink1" title="peripherals:radio-control:start">Radio Control</a></div>
</li>
<li class="level3"><div class="li"> <a href="https://pixhawk.org/peripherals/sensors/gps" class="wikilink1" title="peripherals:sensors:gps">GPS Modules</a></div>
</li>
<li class="level3"><div class="li"> <a href="https://pixhawk.org/peripherals/telemetry/start" class="wikilink1" title="peripherals:telemetry:start">Telemetry</a></div>
</li>
<li class="level3"><div class="li"> <a href="https://pixhawk.org/peripherals/video" class="wikilink1" title="peripherals:video">On-board Video</a></div>
</li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="http://px4.io/" class="urlextern" target="_blank" title="http://px4.io" rel="nofollow">Firmware</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://pixhawk.org/users/start" class="wikilink1" title="users:start">Setup</a></div>
<ul>
<li class="level2"><div class="li"> <a href="http://px4.io/user-guide/" class="urlextern" target="_blank" title="http://px4.io/user-guide/" rel="nofollow">User Guide</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/platforms/multicopters/start" class="wikilink1" title="platforms:multicopters:start">Multicopters</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/platforms/planes/start" class="wikilink1" title="platforms:planes:start">Planes</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://pixhawk.org/platforms/vtol/start" class="wikilink1" title="platforms:vtol:start">VTOL</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="http://px4.io/" class="urlextern" target="_blank" title="http://px4.io" rel="nofollow">Dev Community</a></div>
</li>
</ul>

            <div id="tmpl_header_nav_search" class="dokuwiki">
<form action="https://pixhawk.org/start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search"><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]"><input type="submit" value="Search" class="button" title="Search"><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>
            </div>
            <div class="clearer"></div>
        </nav></div>
        <div class="clearer"></div>
    </div>
    <!-- end header -->


    <!-- start main content area -->
    <div class="dokuwiki">
        
        <!-- start left col -->
        <div id="content">
            <div class="page">
                <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle open" style="cursor: pointer;"><strong><span>−</span></strong>Table of Contents</h3>
<div>

<ul class="toc" aria-expanded="true" style="">
<li class="level2"><div class="li"><a href="https://pixhawk.org/dev/mixing#control_mixing">Control Mixing</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="https://pixhawk.org/dev/mixing#custom_mixer">Custom Mixer</a></div></li>
<li class="level3"><div class="li"><a href="https://pixhawk.org/dev/mixing#terminology">Terminology</a></div></li>
<li class="level3"><div class="li"><a href="https://pixhawk.org/dev/mixing#video_example">Video Example</a></div></li>
<li class="level3"><div class="li"><a href="https://pixhawk.org/dev/mixing#example_mixers_and_syntax_explanation">Example Mixers and Syntax Explanation</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="https://pixhawk.org/dev/mixing#output_groups_and_rates">Output Groups and Rates</a></div></li>
<li class="level2"><div class="li"><a href="https://pixhawk.org/dev/mixing#mixing_details">Mixing Details</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="https://pixhawk.org/dev/mixing#terminology1">Terminology</a></div></li>
<li class="level3"><div class="li"><a href="https://pixhawk.org/dev/mixing#mixing_basics">Mixing Basics</a></div></li>
<li class="level3"><div class="li"><a href="https://pixhawk.org/dev/mixing#scaling">Scaling</a></div></li>
<li class="level3"><div class="li"><a href="https://pixhawk.org/dev/mixing#mixers">Mixers</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="https://pixhawk.org/dev/mixing#control_groups">Control Groups</a></div></li>
<li class="level2"><div class="li"><a href="https://pixhawk.org/dev/mixing#virtual_control_groups">Virtual Control Groups</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="clearer"></div>

<!-- start rendered page content -->
<div class="wrap_round wrap_tip plugin_wrap">
<p>
This is deprecated. Please use the <strong>NEW</strong> dev guide at <a href="http://dev.px4.io/" class="urlextern" target="_blank" title="http://dev.px4.io" rel="nofollow">http://dev.px4.io</a>.
</p>
</div>
<h2 class="sectionedit3" id="control_mixing">Control Mixing</h2>
<div class="level2">

<p>
This page discusses the general-purpose control mixing architecture in PX4. If you are looking for specific mixer setup instructions, you should go to the <a href="https://pixhawk.org/platforms/start" class="wikilink1" title="platforms:start">Platforms</a> page.
</p>

<p>
</p><p></p><div class="notetip">The description of the mixer definition language is in the <a href="https://github.com/PX4/Firmware/tree/master/ROMFS/px4fmu_common/mixers" class="urlextern" target="_blank" title="https://github.com/PX4/Firmware/tree/master/ROMFS/px4fmu_common/mixers" rel="nofollow">source code README file</a> on Github. <strong>Check out the graphical example <a href="https://pixhawk.org/dev/mixing#example_mixers_and_syntax_explanation" title="dev:mixing ↵" class="wikilink1">below</a> as well!</strong>
</div><p></p>
<p></p>

</div>

<h3 class="sectionedit4" id="custom_mixer">Custom Mixer</h3>
<div class="level3">

<p>
</p><p></p><div class="notetip">Custom mixer files can be put onto the microSD card. This is described in the <a href="https://pixhawk.org/dev/system_startup#output_mixers" class="urlextern" target="_blank" title="https://pixhawk.org/dev/system_startup#output_mixers" rel="nofollow">startup documentation</a>.
</div><p></p>
<p></p>

</div>

<h3 class="sectionedit5" id="terminology">Terminology</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <strong>Actuator Control Groups</strong>: An actuator control group is a set of 8 outputs which cover one type of actuation, e.g. for the airframe, payload or gimbals. It is emitted by an actuator and the <em>input</em> to the mixer. Different control groups can be emitted by different processes.</div>
</li>
<li class="level1"><div class="li"> <strong>Mixers</strong>: A mixer is a set of individual scalers / mappers which read from control inputs and write to actuator outputs.</div>
</li>
<li class="level1"><div class="li"> <strong>Actuator Output Groups</strong>: An actuator output group is a set of 1 to 8 outputs which are part of one physical output device, e.g. PX4FMU or PX4IO. It represents the output of the mixer.</div>
</li>
</ul>

<p>
<a href="https://pixhawk.org/_detail/dev/actuator_mixing.png?id=dev%3Amixing" class="media" target="_blank" title="dev:actuator_mixing.png"><img src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/actuator_mixing.png" class="media" title="Actuator Mixing" alt="Actuator Mixing"></a>
</p>

</div>

<h3 class="sectionedit6" id="video_example">Video Example</h3>
<div class="level3">

<p>
The mixing architecture is capable to deal with relatively complex airframes, as shown in this video:
</p>
<iframe src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/68VeIGnKBjg.html" height="394" width="700" class="vshare__none" allowfullscreen="" frameborder="0" scrolling="no"></iframe>
<p>
<br>

<br>

</p>

</div>

<h3 class="sectionedit7" id="example_mixers_and_syntax_explanation">Example Mixers and Syntax Explanation</h3>
<div class="level3">

<p>
The following image explains the mixing for a wing only elevon configuration (roll and pitch inputs mixed together for 2 elevon servo actuators)
The “output channels” (Pixhawk pins) are assigned to the mixer description file<em class="u"> based upon the order they appear</em> in the mix's file:
</p>

<p>
<img src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/mixing.png" class="media" alt="" width="800">
</p>

<p>
If you wanted to change only the second output, channel-1 (Pixhawk pin 2), you still need an entry for first output, channel-0 (Pixhawk pin 1) 
</p>

<p>
<strong>EXAMPLE:</strong>
<a href="https://pixhawk.org/_detail/dev/mixing1.png?id=dev%3Amixing" class="media" target="_blank" title="dev:mixing1.png"><img src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/mixing1.png" class="media" alt=""></a>
Roll has no mix here, but is needed to have the pitch description be second in the file.
</p>

<p>
When using the multirotor mixer (R:), it takes the place of the first three output pins mixes. The first mix after an “R:” is pin4.
</p>

</div>

<h2 class="sectionedit8" id="output_groups_and_rates">Output Groups and Rates</h2>
<div class="level2">

<p>
</p><p></p><div class="notewarning">Setting a high output rate (&gt;50Hz) can burn analog servos. Due to physical constraints some output channel rates can only be set in conjunction with other channels.
</div><p></p>
<p></p>

</div>

<h4 id="configuration">Configuration</h4>
<div class="level4">

<p>
The output rates can be configured with this command line app: <a href="https://pixhawk.org/firmware/apps/pwm" class="wikilink1" title="firmware:apps:pwm">pwm (Application)</a> or via IOCTLs (please refer to the source code of the app for examples on how to use the IOCTL interface).
</p>

</div>

<h4 id="output_rates">Output Rates</h4>
<div class="level4">

<p>
The default output rate in the RC industry is 50 Hz, which normal analog servos sustain well. Digital servos can accept higher rates. The recommended output rate for multicopter ESCs is 400 Hz, in order to minimise latency (<strong>NOT</strong> because the outputs would require 400 Hz, as multicopter rotors spin only at 80-120 Hz and can't change speed multiple times during a single revolution, but to actually overcome the input filtering most motor controllers have and to minimize worst-case latency if the attitude control loop is not synchronized to the PWM generation).
</p>

</div>

<h4 id="output_groups">Output Groups</h4>
<div class="level4">

<p>
The hardware generating the PWM signal is grouped into different timers, and each timer outputs on one or multiple pins. These pins can change their output rate only together. The three groups for IO (MAIN output on Pixhawk) are:
</p>
<ul>
<li class="level1"><div class="li"> channel group 0: channels 1 2</div>
</li>
<li class="level1"><div class="li"> channel group 1: channels 5 6 7 8</div>
</li>
<li class="level1"><div class="li"> channel group 2: channels 3 4</div>
</li>
</ul>

<p>
</p><p></p><div class="notewarning">Attempting to set only a part of the channels of an output group to a different rate will fail, as the whole group has to be set at once
</div><p></p>
<p></p>

</div>

<h2 class="sectionedit9" id="mixing_details">Mixing Details</h2>
<div class="level2">

</div>

<h3 class="sectionedit10" id="terminology1">Terminology</h3>
<div class="level3">

</div>

<h5 id="mixer">Mixer</h5>
<div class="level5">

<p>
A module that combines a set of inputs according to pre-defined rules and parameters to produce a set of outputs.
</p>

</div>

<h5 id="scaler">Scaler</h5>
<div class="level5">

<p>
An arithmetic module that adjusts a single input according to parameters to generate a single output.
</p>

</div>

<h5 id="input">Input</h5>
<div class="level5">

<p>
Inputs are expected to be in the range -1.0 (-10000) to 1.0 (10000) for roll, pitch and yaw, and 0 - 1.0 (10000) for thrust and made available to the mixer by the module or component that owns the mixer. This may be a vehicle control such as 'roll', or any other number.
</p>

</div>

<h5 id="output">Output</h5>
<div class="level5">

<p>
The result of applying the mixer rules to zero or more inputs.
</p>

</div>

<h3 class="sectionedit11" id="mixing_basics">Mixing Basics</h3>
<div class="level3">

<p>
A module invokes a mixer (or mixer group, see below) when it wants to generate a fresh set of outputs; for example, when it is notified that the inputs it has been watching have changed.
</p>

<p>
The mixer will obtain the inputs it requires, scale and mix them according to the mixer definition, and generate the output set. The module is then free to use the outputs as required; for example to update servo outputs, or to publish the results for other modules to use.
</p>

</div>

<h3 class="sectionedit12" id="scaling">Scaling</h3>
<div class="level3">

<p>
Mixer inputs are often scaled in order to adjust the relative significance of each input during the mixing phase. Several different scaling approaches are used, depending on circumstance.
</p>

</div>

<h5 id="simple_scaling">Simple Scaling</h5>
<div class="level5">

<p>
The simplest form of scaling simply multiplies the input value by a constant scaling factor. This approach is used when the base value for an input is well-known, or the value is not otherwise required to be adjusted.
</p>

</div>

<h5 id="linear_scaling">Linear Scaling</h5>
<div class="level5">

<p>
This scaling technique allows for asymmetrical scaling either side of input zero, as well as biasing the result and clamping the output.
</p>

<p>
Inputs to this scaler are:
</p>
<ul>
<li class="level1"><div class="li"> negative scale factor</div>
</li>
<li class="level1"><div class="li"> positive scale factor</div>
</li>
<li class="level1"><div class="li"> offset</div>
</li>
<li class="level1"><div class="li"> lower output limit</div>
</li>
<li class="level1"><div class="li"> upper output limit</div>
</li>
</ul>

<p>
The scaling workflow looks like this:
</p>
<pre class="code">if (input &lt; 0)
    output = (input * NEGATIVE_SCALE) + OFFSET
else
    output = (input * POSITIVE_SCALE) + OFFSET

if (output &lt; LOWER_LIMIT)
    output = LOWER_LIMIT
if (output &gt; UPPER_LIMIT)
    output = UPPER_LIMIT</pre>

</div>

<h3 class="sectionedit13" id="mixers">Mixers</h3>
<div class="level3">

<p>
The rules that are applied vary from mixer to mixer, with the following mixers being defined:
</p>

</div>

<h4 id="simple_mixer">Simple Mixer</h4>
<div class="level4">

<p>
As its name suggests, the simple mixer reads one or more inputs, scales them, sums the scaled values, scales the result and returns a single output.
</p>
<pre class="code"> input      input     input
   |          |         |
   v          v         v
 scale      scale     scale
   |          |         |
   |          v         |
   +-------&gt; mix &lt;------+
              |
            scale
              |
              v
            output</pre>

<p>
Parameters to the simple mixer are:
</p>
<ul>
<li class="level1"><div class="li"> the set of inputs</div>
</li>
<li class="level1"><div class="li"> scaling parameters for each input</div>
</li>
<li class="level1"><div class="li"> scaling parameters for the output</div>
</li>
</ul>

<p>
Both the input and output scaling is performed using linear scalers.
</p>

</div>

<h4 id="multirotor_mixer">Multirotor Mixer</h4>
<div class="level4">

<p>
This mixer is designed for mixing flight controls (roll, pitch, yaw, thrust) to produce motor speed control outputs suitable for multirotor air vehicles.
</p>

<p>
Parameters to the multirotor mixer (R:) are:
</p>

<p>
R: &lt;geometry&gt; &lt;roll scale&gt; &lt;pitch scale&gt; &lt;yaw scale&gt; &lt;deadband&gt;
</p>
<ul>
<li class="level1"><div class="li"> the geometry of the vehicle</div>
</li>
<li class="level1"><div class="li"> separate roll, pitch and yaw control scaling factors</div>
</li>
<li class="level1"><div class="li"> motor output deadband</div>
</li>
</ul>

<p>
A variety of vehicle geometries are known to the mixer, including common quad (4X,4+), hex (6X,6+) and octo (8X,8+) and tri (3y)configurations. The mixer can be extended to any configuration that can be expressed using separate roll, pitch and yaw compensation factors for each rotor. In all cases, simple scaling is applied to the inputs.
</p>

</div>

<h4 id="ratio_clamping">Ratio Clamping</h4>
<div class="level4">

<p>
The output from the multirotor mixer is clamped such that at most one rotor output is saturated, in order to avoid issues rolling heavy vehicles, and the output value is never permitted to fall into the deadband in order to avoid issues with motor re-start whilst in flight.
</p>

<p>
In addition to that, any clamping respects the ratio of the input, to prevent multi rotors from flipping over. If a motor gets into positive or negative saturation, the overall thrust will be reduced so that the ratio between the individual motors can be satisfied without saturation.
</p>

</div>

<h5 id="clamping_example">Clamping Example</h5>
<div class="level5">

<p>
Input (quadrotor, four motors), Limit is 100:
</p>
<pre class="code">150 75 75 75</pre>

<p>
Resulting clamped output:
</p>
<pre class="code">100 50 50 50</pre>

<p>
Note that motor 1 has still double the speed of motors 2-4, so the resulting attitude will be correct. The vehicle will however not increase altitude (or decrease altitude) compared to the non-clamped motor inputs. If the clamping would just limit motor 1, the vehicle may flip over or become unstable, because the ratio between the motors that defines the collective thrust plane is violated.
</p>

</div>

<h2 class="sectionedit14" id="control_groups">Control Groups</h2>
<div class="level2">

<p>
Control groups are grouped actuator control positions. These functional groups are centered around core flight control (group 0), auxiliary flight control (group 1), payload (group 2) and manual passthrough (group 3, e.g. for gimbal control).  
</p>

<p>
Control groups 1, 2, and 3 are not sent to the actuators unless there is a change in control group 0.  If, for example, aux0 was being used to control the pitch setting of a gimbal motor, the pitch would only change when the flight control motors associated with control group 0 were armed.
</p>

</div>

<h4 id="control_group_0_flight_control">Control Group #0 (Flight Control)</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> 0: roll (-1..1)</div>
</li>
<li class="level1"><div class="li"> 1: pitch (-1..1)</div>
</li>
<li class="level1"><div class="li"> 2: yaw (-1..1)</div>
</li>
<li class="level1"><div class="li"> 3: throttle (0..1 normal range, -1..1 for variable pitch / thrust reversers)</div>
</li>
<li class="level1"><div class="li"> 4: flaps (-1..1)</div>
</li>
<li class="level1"><div class="li"> 5: spoilers (-1..1)</div>
</li>
<li class="level1"><div class="li"> 6: airbrakes (-1..1)</div>
</li>
<li class="level1"><div class="li"> 7: landing gear (-1..1)</div>
</li>
</ul>

</div>

<h4 id="control_group_1_flight_control_vtolalternate">Control Group #1 (Flight Control VTOL/Alternate)</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> 0: roll ALT (-1..1)</div>
</li>
<li class="level1"><div class="li"> 1: pitch ALT (-1..1)</div>
</li>
<li class="level1"><div class="li"> 2: yaw ALT (-1..1)</div>
</li>
<li class="level1"><div class="li"> 3: throttle ALT (0..1 normal range, -1..1 for variable pitch / thrust reversers)</div>
</li>
<li class="level1"><div class="li"> 4: reserved / aux0</div>
</li>
<li class="level1"><div class="li"> 5: reserved / aux1</div>
</li>
<li class="level1"><div class="li"> 6: reserved / aux2</div>
</li>
<li class="level1"><div class="li"> 7: reserved / aux3</div>
</li>
</ul>

</div>

<h4 id="control_group_2_payload">Control Group #2 (Payload)</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> 0: gimbal roll</div>
</li>
<li class="level1"><div class="li"> 1: gimbal pitch</div>
</li>
<li class="level1"><div class="li"> 2: gimbal yaw</div>
</li>
<li class="level1"><div class="li"> 3: gimbal shutter</div>
</li>
<li class="level1"><div class="li"> 4: reserved</div>
</li>
<li class="level1"><div class="li"> 5: reserved</div>
</li>
<li class="level1"><div class="li"> 6: reserved</div>
</li>
<li class="level1"><div class="li"> 7: reserved (parachute, -1..1)</div>
</li>
</ul>

</div>

<h4 id="control_group_3_manual_passthrough">Control Group #3 (Manual Passthrough)</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> 0: RC roll</div>
</li>
<li class="level1"><div class="li"> 1: RC pitch</div>
</li>
<li class="level1"><div class="li"> 2: RC yaw</div>
</li>
<li class="level1"><div class="li"> 3: RC throttle</div>
</li>
<li class="level1"><div class="li"> 4: RC mode switch</div>
</li>
<li class="level1"><div class="li"> 5: RC aux1</div>
</li>
<li class="level1"><div class="li"> 6: RC aux2</div>
</li>
<li class="level1"><div class="li"> 7: RC aux3</div>
</li>
</ul>

</div>

<h2 class="sectionedit15" id="virtual_control_groups">Virtual Control Groups</h2>
<div class="level2">

<p>
These groups are NOT mixer inputs, but serve as meta-channels to feed fixed wing and multicopter controller outputs into the VTOL governor module.
</p>

</div>

<h4 id="control_group_4_flight_control_mc_virtual">Control Group #4 (Flight Control MC VIRTUAL)</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> 0: roll ALT (-1..1)</div>
</li>
<li class="level1"><div class="li"> 1: pitch ALT (-1..1)</div>
</li>
<li class="level1"><div class="li"> 2: yaw ALT (-1..1)</div>
</li>
<li class="level1"><div class="li"> 3: throttle ALT (0..1 normal range, -1..1 for variable pitch / thrust reversers)</div>
</li>
<li class="level1"><div class="li"> 4: reserved / aux0</div>
</li>
<li class="level1"><div class="li"> 5: reserved / aux1</div>
</li>
<li class="level1"><div class="li"> 6: reserved / aux2</div>
</li>
<li class="level1"><div class="li"> 7: reserved / aux3</div>
</li>
</ul>

</div>

<h4 id="control_group_5_flight_control_fw_virtual">Control Group #5 (Flight Control FW VIRTUAL)</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> 0: roll ALT (-1..1)</div>
</li>
<li class="level1"><div class="li"> 1: pitch ALT (-1..1)</div>
</li>
<li class="level1"><div class="li"> 2: yaw ALT (-1..1)</div>
</li>
<li class="level1"><div class="li"> 3: throttle ALT (0..1 normal range, -1..1 for variable pitch / thrust reversers)</div>
</li>
<li class="level1"><div class="li"> 4: reserved / aux0</div>
</li>
<li class="level1"><div class="li"> 5: reserved / aux1</div>
</li>
<li class="level1"><div class="li"> 6: reserved / aux2</div>
</li>
<li class="level1"><div class="li"> 7: reserved / aux3</div>
</li>
</ul>

</div>

<!-- end rendered page content -->
<div class="clearer"></div>


            </div>
        </div>
        <!-- end left col -->
        
        <!-- start right col -->

<div class="plugin_translation"><span>Translations of this page:</span> <form action="https://pixhawk.org/start" id="translation__dropdown"><select name="id" class="wikilink1"><option class="wikilink1 cur" title="English" value="dev/mixing" selected="selected">en</option><option class="wikilink2" title="中文" value="zh/dev/mixing">zh</option></select><input name="go" type="submit" value="→" style="display: none;"></form></div>        <div id="tmpl_sidebar">
            
            <div class="sidebarnav">

<p>
<br>

</p><div id="_username"></div>
<ul><li class="level1"><div class="li"><a href="https://pixhawk.org/dev/mixing?do=register">Register</a></div></li><li class="level1"><div class="li"><a href="https://pixhawk.org/dev/mixing?do=login">Login to Edit</a></div></li></ul>

<p></p>

<h1 class="sectionedit1" id="quick_links">Quick Links</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="https://pixhawk.org/pageindex" class="wikilink1" title="pageindex">Documentation Overview</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://pixhawk.org/users/first_steps" class="wikilink2" title="users:first_steps" rel="nofollow">User Manual</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://pixhawk.org/dev/start" class="wikilink1" title="dev:start">Developer Manual</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://groups.google.com/forum/#!forum/px4users" class="urlextern" target="_blank" title="https://groups.google.com/forum/#!forum/px4users" rel="nofollow">Forum</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://pixhawk.org/firmware/downloads" class="wikilink1" title="firmware:downloads">Downloads</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://pixhawk.org/credits" class="wikilink1" title="credits">Contact and Credits</a></div>
</li>
</ul>

</div>
<!-- EDIT1 SECTION "Quick Links" [93-] --><script>
var username = document.getElementById('_username').innerHTML;
document.getElementById('_username').innerHTML = "";
var loc = location.href;
var url = loc.substr(0, loc.indexOf('?'));
var anchor = document.getElementById("_login_links");
var newul = document.createElement("ul");


if (username == "") {
var regHTML = "<li class='level1'><div class='li'><a href='"+url+"?do=register'>Register</a></div></li>"
var loginHTML = "<li class='level1'><div class='li'><a href='"+url+"?do=login'>Login to Edit</a></div></li>"
newul.innerHTML = regHTML + loginHTML;
} else {
newul.innerHTML = "<li class='level1'><div class='li'><a href='"+url+"?do=edit'>Edit this Page</a></div></li><li class='level1'><div class='li'><a href='"+url+"?do=media'>Media Manager</a></div></li>"
}
anchor.parentNode.replaceChild(newul, anchor);

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-33658859-2', 'pixhawk.org');
  ga('send', 'pageview');

</script>            </div>


            
            
            <div class="sidebarbox" id="qrcode">
                <h5 class="hspec">QR Code: URL of current page</h5>
                <div class="level1"><span class="qrcode"><a href="http://goqr.me/" target="_blank"><img src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/saved_resource" alt="QR Code: URL of current page Control Mixing (generated for current page)" title="Current page as QR Code (scan for easy mobile access)"></a></span><p class="qrsrc"><a href="http://goqr.me/" target="_blank">QR Code</a> by <a href="http://qrserver.com/" target="_blank">QR-Server</a></p></div>
            </div>


            <div class="clearer"></div>
        </div>
        <!-- end right col -->
        <div class="clearer"></div>

        <div id="tmpl_footer">
            <div id="tmpl_footer_actlinksleft">
                [&nbsp;<a href="https://pixhawk.org/dev/mixing#dokuwiki__top" class="action top" accesskey="t" rel="nofollow" title="Back to top [T]">Back to top</a>&nbsp;|&nbsp;<a href="https://pixhawk.org/dev/mixing?do=index" class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a>&nbsp;|&nbsp;<a href="https://pixhawk.org/dev/mixing?do=backlink" class="action backlink" rel="nofollow" title="Backlinks">Backlinks</a>&nbsp;|&nbsp;<a href="https://pixhawk.org/dev/mixing?do=recent" class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a>&nbsp;]            </div>
            <div id="tmpl_footer_actlinksright">
                &nbsp;            </div>
            <div class="clearer"></div>
            <div id="tmpl_footer_metainfo">
                (<a href="http://andreas-haerter.com/" target="_blank">mnml</a><a href="http://www.dokuwiki.org/" target="_blank">DW</a>)
            </div>
        </div>

    </div>
    <!-- end main content area -->
    <div class="clearer"></div>
    <img src="./Control Mixing - Pixhawk Flight Controller Hardware Project_files/indexer.php" width="2" height="1" alt="">
</div>


</body></html>